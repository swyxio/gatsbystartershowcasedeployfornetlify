{"data":{"markdownRemark":{"html":"<h2 id=\"a-bit-of-history\"><a href=\"#a-bit-of-history\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A bit of history</h2>\n<p>Some years ago I created my <a href=\"https://blog.singuerinc.com/\">blog</a> with\n<a href=\"https://jekyllrb.com/\">Jekyll</a> and it has been working well ever since.</p>\n<p>I have never been a huge fan of Ruby, but because of requirements or convenience\nI’ve built apps with it (Rails / Sinatra / Jekyll / etc).</p>\n<p>I used to like Jekyll because I could write my posts in Markdown which is super\neasy to write and edit.. When I started my blog, I took a theme called\n<a href=\"https://github.com/poole/lanyon\">Lanyon</a> and tweaked it a bit. That was a\nenough for me.</p>\n<p>But recently I find that I only install Ruby and Jekyll to manage my blog (I\nmostly develop with Node). I tried to develop my blog inside a Docker container,\nbut this was extremely slow.</p>\n<p>Some weeks ago, one of my colleagues at work told me about\n<a href=\"https://www.gatsbyjs.org\">Gatsby</a> Since I was already learning\n<a href=\"https://reactjs.org/\">React</a> and had started looking at\n<a href=\"http://graphql.org/\">GraphQL</a> (after attending a talk at\n<a href=\"http://nordicjs.com/\">Nordic.js</a>)—I was very interested in giving it a try.</p>\n<h2 id=\"migrating-from-jekyll-to-gatsby\"><a href=\"#migrating-from-jekyll-to-gatsby\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Migrating from Jekyll to Gatsby</h2>\n<p><img src=\"/gatsby-d1b344710c32ebe7e249432bc1185b3f.svg\" alt=\"Migrating from Jekyll to Gatsby\"></p>\n<h3 id=\"data\"><a href=\"#data\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data</h3>\n<p>One of the biggest concern about migrating from one generator to another is how\nyou move the data. In my case, I have around 45 posts so it is not a big deal to\nconvert from one type to another, but still manual work that I wanted to avoid.</p>\n<p>Luckily Gatsby works with Markdown and it can take the data from your YAML front\nmatter block, so you don’t have to change anything. You just need to install\n<code class=\"language-text\">gatsby-transformer-remark</code> plugin.</p>\n<p>Then, in your <code class=\"language-text\">gatsby-config.js</code> file add:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\">plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"gatsby-transformer-remark\"</span><span class=\"token punctuation\">]</span></code></pre>\n      </div>\n<h3 id=\"theme\"><a href=\"#theme\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Theme</h3>\n<p>My blog is clean and simple, I don’t need too much CSS. Instead of bloating my\nblog with a theme I added <a href=\"http://tachyons.io/\">Tachyons</a>. I managed to\nreplicate 99% of my previous theme with classes from Tachyons. Something that I\nwould like to do better is to remove the parts of Tachyons that I’m not using.</p>\n<p>My current CSS file has less than 30 lines. The rest of the layout is created\nwith tachyons classes:\n<a href=\"https://github.com/singuerinc/blog/blob/master/src/layouts/index.css\">https://github.com/singuerinc/blog/blob/master/src/layouts/index.css</a></p>\n<h3 id=\"slug--date\"><a href=\"#slug--date\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Slug + Date</h3>\n<p>This was the only “tricky” part, since I wanted to preserve the same page names\nin order to make a 1:1 transition. This was not possible with the default\nbehavior from Gatsby. I don’t have a <code class=\"language-text\">date</code> field in my front matter block, so I\nneed to extract the date from the file name.</p>\n<p>The slug in my case is generated with this (default in Jekyll) structure:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">https://blog.singuerinc.com/[n-categories]/YYYY/MM/DD/dashed-title/\n\n// Given this data:\ncategories:\n  - app\n  - macos\n  - vuejs\n  - electron\n\nfilename: 2017-05-09-introducing-tomeito.md\n\n// I would like to get:\n/app/macos/vuejs/electron/2017/05/09/introducing-tomeito/</code></pre>\n      </div>\n<p>How did I create it? Inside my <code class=\"language-text\">gastby-node.js</code> I used the <code class=\"language-text\">onCreateNode</code>\nextension API to tweak the slug:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreateNode</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> getNode<span class=\"token punctuation\">,</span> boundActionCreators <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNodeField <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> boundActionCreators\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token template-string\"><span class=\"token string\">`MarkdownRemark`</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> categories <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>frontmatter\n\n    <span class=\"token keyword\">const</span> filename <span class=\"token operator\">=</span> <span class=\"token function\">createFilePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> getNode<span class=\"token punctuation\">,</span> basePath<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`pages`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// get the date and title from the file name</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> filename<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>\n      <span class=\"token regex\">/^\\/([\\d]{4}-[\\d]{2}-[\\d]{2})-{1}(.+)\\/$/</span>\n    <span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// create a new slug concatenating everything</span>\n    <span class=\"token keyword\">const</span> slug <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">slugify</span><span class=\"token punctuation\">(</span>\n      categories<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"/\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/`</span></span>\n\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`slug`</span></span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> slug <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// save the date for later use</span>\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`date`</span></span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> date <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h3 id=\"deploy\"><a href=\"#deploy\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploy</h3>\n<p>I used to deploy to <a href=\"https://about.gitlab.com/features/pages/\">GitLab Pages</a>,\nbut I noticed that from time to time it’d go down, so I’m now testing\n<a href=\"https://www.netlify.com/\">Netlify</a> which has almost the same CI workflow:</p>\n<p><img src=\"/diagram-ci-63a4ed26d38ebe2499a1703049c711c9.svg\" alt=\"Migrating from Jekyll to Gatsby\"></p>\n<h2 id=\"conclusions\"><a href=\"#conclusions\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusions</h2>\n<p>Some key points:</p>\n<ul>\n<li>Node instead of Ruby</li>\n<li>Much faster development workflow e.g. hot reload out of the box</li>\n<li>I can query the data I need and transform it before using it. (I’m looking\ninto the <a href=\"/packages/gatsby-plugin-feed/\"><code class=\"language-text\">gatsby-plugin-feed</code></a> to recreate the\nAtom Feed)</li>\n<li>React and GraphQL for free with Gatsby</li>\n<li>Since I am confident with the Node ecosystem I’m able to contribute: First\npull request to Gatsby:\n<a href=\"https://github.com/gatsbyjs/gatsby/pull/2569\">https://github.com/gatsbyjs/gatsby/pull/2569</a></li>\n<li>Netlify vs GitLab Pages (hopefully 100% uptime)</li>\n</ul>\n<h2 id=\"final-thoughts\"><a href=\"#final-thoughts\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Final thoughts</h2>\n<p>Although the blog is the same, in content and look, the way that is created has\ncompletely changed. For me it is a whole new experience—easier, and faster.</p>\n<p>I wanted to move the blog to Node a long time ago and it is finally there!</p>\n<p>Next is to convert my portfolio (also built with Jekyll):\n<a href=\"https://www.singuerinc.com/\">https://www.singuerinc.com/</a></p>\n<h2 id=\"show-me-the-code\"><a href=\"#show-me-the-code\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Show me the code</h2>\n<p>If you want to take a look at the code you can do it, it is published in GitHub:\n<a href=\"https://github.com/singuerinc/blog\">https://github.com/singuerinc/blog</a></p>","excerpt":"A bit of history Some years ago I created my  blog  with\n Jekyll  and it has been working well ever since. I have never been a huge fan of…","timeToRead":4,"fields":{"slug":"/blog/2017-11-08-migrate-from-jekyll-to-gatsby/"},"frontmatter":{"title":"Migrate from Jekyll to Gatsby","excerpt":null,"date":"November 8th 2017","rawDate":"2017-11-08T00:00:00.000Z","canonicalLink":null,"publishedAt":null,"tags":["jekyll","markdown","getting-started","ci"],"image":null,"imageAuthor":null,"imageAuthorLink":null,"imageTitle":null,"showImageInArticle":null,"author":{"id":"Nahuel Scotti","bio":"Developer - https://www.singuerinc.com","twitter":"@singuerinc","avatar":{"childImageSharp":{"fixed":{"tracedSVG":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30' version='1'%3e%3crect width='100%25' height='100%25' fill='%23f6f2f8'/%3e%3cpath d='M11 4l-2 6c0 3 0 3 1 1 0-4 2-5 5-4 3 0 4 3 2 5l-1 2c1 1 0 2-1 3-3 2-3 7 1 10 5 4 9 4 5 0v-6C25 8 18-3 11 4' fill='%23e0d6eb' fill-rule='evenodd'/%3e%3c/svg%3e","width":63,"height":63,"src":"/static/nahuel-scotti-0353b839ec76fa17a679379fe38ae178-eb2ad.jpeg","srcSet":"/static/nahuel-scotti-0353b839ec76fa17a679379fe38ae178-eb2ad.jpeg 1x,\n/static/nahuel-scotti-0353b839ec76fa17a679379fe38ae178-2d344.jpeg 1.5x,\n/static/nahuel-scotti-0353b839ec76fa17a679379fe38ae178-6dc12.jpeg 2x,\n/static/nahuel-scotti-0353b839ec76fa17a679379fe38ae178-c804e.jpeg 3x"}}},"fields":{"slug":"/contributors/nahuel-scotti/"}}}}},"pageContext":{"slug":"/blog/2017-11-08-migrate-from-jekyll-to-gatsby/","prev":{"fields":{"slug":"/blog/2017-11-06-migrate-hugo-gatsby/","package":null,"starterShowcase":null},"frontmatter":{"title":"Migrate from Hugo to Gatsby","draft":null,"canonicalLink":null,"publishedAt":null,"tags":["hugo","markdown","getting-started","netlify-cms"]}},"next":{"fields":{"slug":"/blog/2017-11-09-why-i-created-my-blog-with-gatsby-and-contentful/","package":null,"starterShowcase":null},"frontmatter":{"title":"Why I created my blog with Gatsby and Contentful","draft":null,"canonicalLink":null,"publishedAt":null,"tags":["contentful","netlify","getting-started","hosting","static"]}}}}